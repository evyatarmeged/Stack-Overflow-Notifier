<!DOCTYPE html>
<html>
<head>
    <script>window.$ = window.jQuery = require('./js/jquery.min.js');</script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>untitled</title>
</head>
<body>
    <div id="query-interval"></div>
    <div id="tags"></div>
    <script>
        let invalidQueryInterval = 'Invalid query interval parameter. Specify' +
	        'a number between 0.5 and 60',
          invalidTags = 'Specify tags with only spaces between them';

        function invalidArguments(err) {
	        process.stdout.write(err + '\r\n');
	        window.close();
	        process.exit(1)
        }

        let args = require('electron').remote.process.argv.slice(2),
          queryInterval = args[0],
          tags = args.slice(1);

        if (isNaN(queryInterval) || queryInterval < 0.5 || queryInterval > 60) {
        	invalidArguments(invalidQueryInterval)
        } else {
	        $('#query-interval').text(queryInterval * 60000);
        }

        tags.forEach((item) => {
	        console.log(item)
	        if (item.includes(',')) {
        		invalidArguments(invalidTags)
            }
        })
        $('#tags').text(tags)
    </script>
    <script src="js/headless.js"></script>
</body>
</html>
